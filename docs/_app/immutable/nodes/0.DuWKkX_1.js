import"../chunks/CWj6FrbW.js";import{z as ae,p as se,b as P,o as te,A as h,B as b,a as oe,f as e,C as m,s as d,D as n,E as o,F as r,G as le,H as ne,I as R,J as S,K as ie}from"../chunks/CM7s3TdM.js";import{i as z,s as re,a as F,b as ge}from"../chunks/CZY1Q9bT.js";import{l as de,s as g,a as ce,e as ve,i as fe}from"../chunks/DUMhEyrb.js";import{m as pe,l as H}from"../chunks/BvkDkEON.js";import{f as ue,L as _e}from"../chunks/DKuJeQhF.js";function be(w,l){d(l,!e(l))}var me=(w,l,u)=>l(e(u).code),he=h('<button type="button" class="lang-option svelte-1kwg2sg" tabindex="0" role="option"><img class="lang-flag svelte-1kwg2sg"/> <span class="lang-label svelte-1kwg2sg"> </span></button>'),we=h('<div class="lang-options svelte-1kwg2sg" role="listbox"></div>'),ke=h('<div class="header-background svelte-1kwg2sg"></div> <div class="lang-select-global svelte-1kwg2sg"><div class="lang-dropdown svelte-1kwg2sg"><button type="button" class="lang-selected svelte-1kwg2sg" tabindex="0" aria-label="Language" aria-haspopup="listbox"><img class="lang-flag svelte-1kwg2sg"/> <span class="lang-label svelte-1kwg2sg"> </span> <svg width="16" height="16" viewBox="0 0 16 16"><path d="M4 6l4 4 4-4" stroke="#222" stroke-width="2" fill="none"></path></svg></button> <!></div></div> <!>',1),Le=h('<div class="global-container svelte-1kwg2sg"><!></div>');function Ge(w,l){se(l,!0);const[u,J]=re(),i=()=>F(H,"$locale",u),K=()=>F(pe,"$messagesLoaded",u),k=[{code:"en",label:"ENG",iconPath:"/eng_icon.svg"},{code:"et",label:"EST",iconPath:"/est_icon.svg"}];let A=m(!1),L=m(!1);P(()=>{de(i())}),P(()=>{K()&&e(A)&&!e(L)&&d(L,!0)});let x={};te(async()=>{for(const a of k)x[a.code]=await ue(a.iconPath);d(A,!0)});function N(a){H.set(a)}let t=m(!1);function O(a){N(a),d(t,!1)}let T=ie(()=>i()==="et"?"Laen...":"Loading..."),_=m(void 0);function B(a){e(t)&&e(_)&&!e(_).contains(a.target)&&d(t,!1)}P(()=>{if(e(t))return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)});var $=Le(),U=n($);{var j=a=>{var C=ke(),E=r(le(C),2),M=n(E),c=n(M);c.__click=[be,t];var y=n(c),D=r(y,2),Q=n(D,!0);o(D);var V=r(D,2);o(c);var W=r(c,2);{var X=s=>{var v=we();ve(v,21,()=>k,fe,(Z,f)=>{var p=he();p.__click=[me,O,f];var G=n(p),I=r(G,2),ee=n(I,!0);o(I),o(p),R(()=>{g(p,"aria-selected",e(f).code===i()),g(G,"src",x[e(f).code]),g(G,"alt",e(f).label+" flag"),S(ee,e(f).label)}),b(Z,p)}),o(v),b(s,v)};z(W,s=>{e(t)&&s(X)})}o(M),ge(M,s=>d(_,s),()=>e(_)),o(E);var Y=r(E,2);ne(Y,()=>l.children),R(s=>{g(c,"aria-expanded",e(t)),g(y,"src",x[i()]),g(y,"alt",`${i()??""} flag`),S(Q,s),ce(V,0,`lang-arrow${e(t)?" open":""}`,"svelte-1kwg2sg")},[()=>{var s;return(s=k.find(v=>v.code===i()))==null?void 0:s.label}]),b(a,C)},q=a=>{_e(a,{get loadingMsg(){return e(T)}})};z(U,a=>{e(L)?a(j):a(q,!1)})}o($),b(w,$),oe(),J()}ae(["click"]);export{Ge as component};
