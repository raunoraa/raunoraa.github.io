import"../chunks/CWj6FrbW.js";import{aK as O,j,az as z,s as A,aL as C,aM as D,aN as F,p as G,b as L,R as M,aC as y,T as q,Y as g,a as I,f as d,aO as N,K as P,U as m,aD as Q,W as T,X as U,aP as W,aQ as X,aR as Y}from"../chunks/GhzuZPbW.js";import{i as B,s as x,a as H,b as J}from"../chunks/Bx6F5iLl.js";import{e as V,l as Z,i as ee}from"../chunks/B0J7BoOv.js";import{l as p,a as ae}from"../chunks/Imq0FHGS.js";import{L as te}from"../chunks/Cwvqw05V.js";function S(e,a,l=!1){if(e.multiple){if(a==null)return;if(!A(a))return C();for(var r of e.options)r.selected=a.includes(v(r));return}for(r of e.options){var t=v(r);if(D(t,a)){r.selected=!0;return}}(!l||a!==void 0)&&(e.selectedIndex=-1)}function se(e){var a=new MutationObserver(()=>{S(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),z(()=>{a.disconnect()})}function re(e,a,l=a){var r=!0;O(e,"change",t=>{var o=t?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(o),v);else{var u=e.querySelector(o)??e.querySelector("option:not([disabled])");f=u&&v(u)}l(f)}),j(()=>{var t=a();if(S(e,t,r),r&&t===void 0){var o=e.querySelector(":checked");o!==null&&(t=v(o),l(t))}e.__value=t,r=!1}),se(e)}function v(e){return"__value"in e?e.__value:e.value}var ne=M("<option> </option>"),le=M('<div class="lang-select-global svelte-1efysg7"><select aria-label="Language"></select></div> <!>',1);function ce(e,a){G(a,!0);const[l,r]=H(),t=()=>x(p,"$locale",l),o=()=>x(ae,"$messagesLoaded",l),f=[{code:"en",label:"English"},{code:"et",label:"Eesti"}];let u=N(!1);L(()=>{Z(t())}),L(()=>{o()&&!d(u)&&P(u,!0)});function $(s){const n=s.target.value;p.set(n)}let k=Y(()=>t()==="et"?"Laen...":"Loading...");var b=le(),_=y(b),c=q(_);c.__input=$,V(c,21,()=>f,ee,(s,n)=>{var i=ne(),K=q(i,!0);m(i);var h={};T(()=>{U(K,d(n).label),h!==(h=d(n).code)&&(i.value=(i.__value=d(n).code)??"")}),g(s,i)}),m(c),m(_);var R=Q(_,2);{var w=s=>{var n=W(),i=y(n);X(i,()=>a.children),g(s,n)},E=s=>{te(s,{get loadingMsg(){return d(k)}})};B(R,s=>{d(u)?s(w):s(E,!1)})}re(c,t,s=>J(p,s)),g(e,b),I(),r()}F(["input"]);export{ce as component};
