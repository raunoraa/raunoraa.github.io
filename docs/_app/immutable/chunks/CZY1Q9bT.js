import{N as Y,O as o,Q as _,R as k,T as p,U as y,V as L,W as q,X as F,Y as v,Z as A,_ as E,$ as R,a0 as H,a1 as M,a2 as Z,a3 as $,a4 as w,d as B,S as C,a5 as P,a6 as Q,a7 as g,a8 as V,a9 as W,s as X,g as j,f as z}from"./CM7s3TdM.js";function J(s,r,[f,a]=[0,0]){o&&f===0&&_();var u=s,i=null,n=null,c=H,O=f>0?k:0,l=!1;const D=(b,e=!0)=>{l=!0,N(e,b)},N=(b,e)=>{if(c===(c=b))return;let S=!1;if(o&&a!==-1){if(f===0){const T=p(u);T===y?a=0:T===L?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=c?1/0:-1))}const U=a>f;!!c===U&&(u=q(),F(u),v(!1),S=!0,a=-1)}c?(i?A(i):e&&(i=E(()=>e(u))),n&&R(n,()=>{n=null})):(n?A(n):e&&(n=E(()=>e(u,[f+1,a]))),i&&R(i,()=>{i=null})),S&&v(!0)};Y(()=>{l=!1,r(D),l||N(null,null)},O),o&&(u=M)}function h(s,r){return s===r||(s==null?void 0:s[C])===r}function K(s={},r,f,a){return Z(()=>{var u,i;return $(()=>{u=i,i=(a==null?void 0:a())||[],B(()=>{s!==f(...i)&&(r(s,...i),u&&h(f(...u),s)&&r(null,...u))})}),()=>{w(()=>{i&&h(f(...i),s)&&r(null,...i)})}}),s}let t=!1,I=Symbol();function d(s,r,f){const a=f[r]??(f[r]={store:null,source:V(void 0),unsubscribe:g});if(a.store!==s&&!(I in f))if(a.unsubscribe(),a.store=s??null,s==null)a.source.v=void 0,a.unsubscribe=g;else{var u=!0;a.unsubscribe=W(s,i=>{u?a.source.v=i:X(a.source,i)}),u=!1}return s&&I in f?j(s):z(a.source)}function m(){const s={};function r(){P(()=>{for(var f in s)s[f].unsubscribe();Q(s,I,{enumerable:!1,value:!0})})}return[s,r]}function x(s){var r=t;try{return t=!1,[s(),t]}finally{t=r}}export{d as a,K as b,x as c,J as i,m as s};
