(function(t){function e(e){for(var s,a,r=e[0],l=e[1],c=e[2],h=0,u=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&u.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],s=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},n={app:0},o=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var p=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0251":function(t,e,i){t.exports=i.p+"img/flag.e7fde050.svg"},"089a":function(t,e,i){"use strict";i("f958")},"12be":function(t){t.exports=JSON.parse('{"stops":[{"name":"Atlantis (linna sisenev)","position":{"lat":58.381230525460914,"lng":26.72889596227438,"height":34.64125061035156}},{"name":"Delta tasku","position":{"lat":58.38532325807102,"lng":26.726263920563593,"height":34.514373779296875}},{"name":"Kaare (FI suunas)","position":{"lat":58.36614410204848,"lng":26.703119272055886,"height":70.58875274658203}},{"name":"Kaare (Kesklinna suunas)","position":{"lat":58.36655441206589,"lng":26.70448564279842,"height":69.93562316894531}},{"name":"Kesklinn (Lõpp-peatus)","position":{"lat":58.37722696432968,"lng":26.727870192267574,"height":37.182498931884766}},{"name":"Kesklinn I","position":{"lat":58.37677386173414,"lng":26.726861434698954,"height":40.59937286376953}},{"name":"Kesklinn II","position":{"lat":58.37724738605336,"lng":26.727917843058677,"height":37.10874938964844}},{"name":"Kesklinn III","position":{"lat":58.37750266291346,"lng":26.728538760409922,"height":35.79312515258789}},{"name":"Kesklinn IV","position":{"lat":58.3775891647219,"lng":26.72790850432179,"height":36.48999786376953}},{"name":"Kesklinn V","position":{"lat":58.37745946055825,"lng":26.727636310464657,"height":37.046875}},{"name":"Kesklinn VI","position":{"lat":58.37690994056366,"lng":26.72651058815396,"height":40.94687271118164}},{"name":"Lembitu","position":{"lat":58.36929652044244,"lng":26.710742889251737,"height":61.71999740600586}},{"name":"Linnamuuseum","position":{"lat":58.38253304252881,"lng":26.72806896214309,"height":34.234375}},{"name":"Lõunakeskus III","position":{"lat":58.35891035335472,"lng":26.672449303297384,"height":71.6668701171875}},{"name":"Pauluse (Kesklinna suunas)","position":{"lat":58.37105710554966,"lng":26.715580324006314,"height":58.765625}},{"name":"Pauluse (linnast väljuv)","position":{"lat":58.37152909953232,"lng":26.716283875904026,"height":58.869998931884766}},{"name":"Raeplats (linna)","position":{"lat":58.37972237038812,"lng":26.72581852210892,"height":35.46437454223633}},{"name":"Raeplats (maale)","position":{"lat":58.38120012638039,"lng":26.72476568930152,"height":34.47312545776367}},{"name":"Raja (Kesklinna suunas)","position":{"lat":58.36172667219093,"lng":26.69139868654175,"height":76.3699951171875}},{"name":"Raja (linnast väljuv)","position":{"lat":58.36130422741691,"lng":26.69002816255349,"height":76.52749633789062}},{"name":"Raudteejaam (Kesklinna ja Riia tn. suunas)","position":{"lat":58.373738612726946,"lng":26.70719863057582,"height":62.53562545776367}},{"name":"Raudteejaam (Lõpp-peatus)","position":{"lat":58.374010636859865,"lng":26.706755122576055,"height":62.573123931884766}},{"name":"Raudteejaam (Tähtvere suunas)","position":{"lat":58.373990914208264,"lng":26.706784008304183,"height":62.584999084472656}},{"name":"Raudteejaam III","position":{"lat":58.373482349592585,"lng":26.707849053555996,"height":62.34187316894531}},{"name":"Riia ring (Kesklinna suunas)","position":{"lat":58.35872329519622,"lng":26.68492227877388,"height":79.62874603271484}},{"name":"Riia ring (linnast väljuv)","position":{"lat":58.35856540771666,"lng":26.684148802519463,"height":79.58562469482422}},{"name":"Riiamäe (linnast väljuv)","position":{"lat":58.37382799680585,"lng":26.72187467909106,"height":58.49187469482422}},{"name":"Soinaste I (kesklinna suunas)","position":{"lat":58.36436772678991,"lng":26.699246176498228,"height":71.17562103271484}},{"name":"Soinaste II (linnast väljuv)","position":{"lat":58.36389463157283,"lng":26.69743277395492,"height":73.04374694824219}},{"name":"Soola (Tasku)","position":{"lat":58.3774615077504,"lng":26.730195491001425,"height":34.204376220703125}},{"name":"Soola I (Kvartali kõrval, Sõpruse silla suunas)","position":{"lat":58.377171779855765,"lng":26.730051873472686,"height":34.244998931884766}},{"name":"Soola I (Lõpp-peatus)","position":{"lat":58.377253856444206,"lng":26.729919938749543,"height":34.3224983215332}},{"name":"Turu","position":{"lat":58.37800120091765,"lng":26.733779321636387,"height":33.57749938964844}},{"name":"Turu (Lõpp-peatus)","position":{"lat":58.37796681499288,"lng":26.733854521849253,"height":33.58374786376953}},{"name":"Vabaduse puiestee (maale)","position":{"lat":58.37912232867339,"lng":26.727219079875574,"height":35.69062423706055}},{"name":"Vabadussild-Palmihoone (linna)","position":{"lat":58.38358901386241,"lng":26.72340282293865,"height":34.34562301635742}},{"name":"Vabadussild-Palmihoone (maale)","position":{"lat":58.38336485937513,"lng":26.723665688422646,"height":34.36249923706055}},{"name":"Vene (Kesklinna suunas)","position":{"lat":58.3857869621336,"lng":26.726394134951548,"height":34.65999984741211}},{"name":"Vene (linnast väljuv)","position":{"lat":58.38667217015892,"lng":26.72685540137343,"height":35.373748779296875}}]}')},"1bf3":function(t,e,i){t.exports=i.p+"img/origin.cdc1f4f8.svg"},2284:function(t,e,i){},2571:function(t,e){t.exports="data:image/png;base64,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"},"2cb1":function(t,e){t.exports="data:image/png;base64,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"},"4a94":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("14d9"),i("e9f5"),i("910d"),i("a732");var s=i("2b0e"),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],a=i("2f62"),r=(i("ab43"),i("8c84")),l=i("12be");class c{constructor(){this.stops=l.stops}findClosestStops(t,e=.5,i=3){const s=this.stops.map(e=>{const i=Object(r["getDistance"])({latitude:t[0],longitude:t[1]},{latitude:e.position.lat,longitude:e.position.lng})/1e3;return{name:e.name,position:e.position,dist_from_point:i}}).filter(t=>t.dist_from_point<=e),n=s.sort((t,e)=>t.dist_from_point-e.dist_from_point);return n.slice(0,i)}}var p={name:"App",components:{},data(){return{polling:null,ip:"",location:null,mqttBridge:null}},methods:{...Object(a["b"])(["setUserLocation","setIP","setGeolocationWatcher","setCarLocation","setMqttBridge","setStopFinder"]),...Object(a["c"])(["getShowLocationButton","getGeolocationWatcher","getMqttBridge","getSessionId"]),geolocate:function(){const t=navigator.geolocation.watchPosition(t=>{this.location={lat:t.coords.latitude,lng:t.coords.longitude},this.setUserLocation({position:this.location})});this.setGeolocationWatcher(t)},startAppLogic(){this.ip=window.location.host.slice(0,-5),this.setIP(this.ip),this.setStopFinder(new c),this.mqttBridge=this.getMqttBridge(),this.carLocation()},carLocation:function(){this.polling=setInterval(()=>{this.setCarLocation(this.mqttBridge.getPose())},1e3)}},watch:{"$store.state.isSessionValid":function(t){this.polling&&(clearInterval(this.polling),this.polling=null),t&&this.startAppLogic()},"$store.state.geolocationWatcher":function(t){t||this.geolocate()}},mounted:function(){this.geolocate()}},h=p,u=(i("865e"),i("2877")),d=Object(u["a"])(h,n,o,!1,null,null,null),g=d.exports;s["a"].use(a["a"]);const m=()=>({ip_address:null,markers:[],userLocation:null,carLocation:null,origin:null,destination:null,lang:localStorage.getItem("lang")||"en",locale:{en:{whereTo:"Where to?",enterDest:"Enter destination",enterOrig:"Enter origin",myLocation:"My location",closestPickup:"Closest pickup point",closestDropoff:"Closest dropoff point",orderCar:"Order car",cancel:"Cancel",driveToPickup:"The car is driving to the pickup point.",arrivePickup:"The car has arrived.",areYouIn:"Are you in the car?",inCar:"Yes, I am in the car",speed:"The car's speed: ",arriveDropoff:"The car has arrived to the destination.",areYouOut:"Are you out of the car?",yes:"Yes",rating:"How do you rate the ride?",noStopsErrorBoth:"No stops were found near the chosen origin and destination points.",noStopsErrorPickup:"No stops were found near the chosen origin point.",noStopsErrorDropoff:"No stops were found near the chosen destination point.",back:"Back",waitingForCar:"Waiting for the car to connect...",carConnected:"Car connected!",choosePickup:"Choose pickup point",chooseDropoff:"Choose destination point",enterOrigAndDest:"Enter pickup and destination",enterSessionId:"Enter session ID",validate:"Continue",incorrectFormatError:"Session ID must be a 6-digit number.",sessionNotFoundError:"Session not found. Please check the session ID.",sessionUnknownError:"Unknown error has occurred. Please try again.",attemptingToConnect:"Attempting to connect...",endSession:"End Session",loadingMap:"Loading map...",endingMessage:"Ending session..."},est:{whereTo:"Kuhu sõidame?",enterDest:"Sisesta sihtkoht",enterOrig:"Sisesta alguskoht",myLocation:"Minu asukoht",closestPickup:"Lähim pealevõtmispunkt: ",closestDropoff:"Lähim peatumispunkt: ",orderCar:"Telli auto",cancel:"Tühista",driveToPickup:"Auto sõidab pealevõtmispunkti.",arrivePickup:"Auto on jõudnud pealevõtmispunkti.",areYouIn:"Kas olete istunud autosse?",inCar:"Jah, olen autos",speed:"Auto kiirus: ",arriveDropoff:"Auto on jõudnud sihtkohta.",areYouOut:"Kas olete autost väljunud?",yes:"Jah",rating:"Kuidas hindate sõidukogemust?",noStopsErrorBoth:"Valitud alguskoha ja sihtkoha lähedal ei leitud ühtegi peatust.",noStopsErrorPickup:"Valitud alguskoha lähedal ei leitud ühtegi peatust.",noStopsErrorDropoff:"Valitud sihtkoha lähedal ei leitud ühtegi peatust.",back:"Tagasi",waitingForCar:"Ootan auto ühendumist...",carConnected:"Auto on ühendatud!",choosePickup:"Vali pealevõtupunkt",chooseDropoff:"Vali sihtpunkt",enterOrigAndDest:"Vali alguskoht ja sihtkoht",enterSessionId:"Sisesta sessiooni ID",validate:"Edasi",incorrectFormatError:"Sessiooni ID peab koosnema 6-st numbrist.",sessionNotFoundError:"Sessiooni ei leitud. Palun kontrollige sessiooni ID-d.",sessionUnknownError:"Tekkis tundmatu viga. Palun proovige uuesti.",attemptingToConnect:"Ühendan...",endSession:"Lõpeta sessioon",loadingMap:"Laen kaarti...",endingMessage:"Lõpetan sessiooni..."}},currentLang:{},waypoints:null,sentBacktoSelection:!1,dropoffPosition:null,pickupOptions:[],dropoffOptions:[],sessionId:null,isSessionValid:!1,sessionValidationStatus:null,geolocationWatcher:null,mqttBridge:null,stopFinder:null}),f=m();f.currentLang=f.locale[f.lang]||f.locale.en;const y={getMarkers:t=>t.markers,getUserLocation:t=>t.userLocation,getCarLocation:t=>t.carLocation,getIP:t=>t.ip_address,getOrigin:t=>t.origin,getDestination:t=>t.destination,getLang:t=>t.lang,getCurrentLang:t=>t.currentLang,getLocale:t=>t.locale,getWaypoints:t=>t.waypoints,getSentBacktoSelection:t=>t.sentBacktoSelection,getDropoffPosition:t=>t.dropoffPosition,getPickupOptions:t=>t.pickupOptions,getDropoffOptions:t=>t.dropoffOptions,getSessionValidationStatus:t=>t.sessionValidationStatus,getGeolocationWatcher:t=>t.geolocationWatcher,getMqttBridge:t=>t.mqttBridge,getStopFinder:t=>t.stopFinder,getSessionId:t=>t.sessionId},v={appendMarker(t,e){t.markers.push(e)},addUserLocation:(t,e)=>t.userLocation=e,addCarLocation:(t,e)=>t.carLocation=e,SET_IP:(t,e)=>t.ip_address=e,addOrigin:(t,e)=>t.origin=e,addDestination:(t,e)=>t.destination=e,addLang:(t,e)=>{t.lang=e,localStorage.setItem("lang",e)},addCurrentLang:(t,e)=>t.currentLang=e,setWaypoints:(t,e)=>t.waypoints=e,addSentBacktoSelection:(t,e)=>t.sentBacktoSelection=e,addDropoffPosition:(t,e)=>t.dropoffPosition=e,addPickupOptions:(t,e)=>t.pickupOptions=e,addDropoffOptions:(t,e)=>t.dropoffOptions=e,addSessionValidationStatus:(t,e)=>t.sessionValidationStatus=e,resetState(t){Object.assign(t,m())},addSessionId:(t,e)=>t.sessionId=e,addIsSessionValid:(t,e)=>t.isSessionValid=e,addGeolocationWatcher:(t,e)=>t.geolocationWatcher=e,addMqttBridge:(t,e)=>t.mqttBridge=e,addStopFinder:(t,e)=>t.stopFinder=e},A={async addMarker(t,e){t.commit("appendMarker",e)},async setUserLocation({commit:t},e){t("addUserLocation",e)},async setCarLocation({commit:t},e){t("addCarLocation",e)},async setIP({commit:t},e){t("SET_IP",e)},async setOrigin({commit:t},e){t("addOrigin",e)},async setDestination({commit:t},e){t("addDestination",e)},async setLang({commit:t},e){t("addLang",e)},async setCurrentLang({commit:t},e){t("addCurrentLang",e)},async fetchWaypoints({commit:t}){const e=f.mqttBridge.getWaypoints();t("setWaypoints",e)},async nullWaypoints({commit:t}){t("setWaypoints",null),f.mqttBridge.nullWaypoints()},async setSentBacktoSelection({commit:t},e){t("addSentBacktoSelection",e)},async setDropoffPosition({commit:t},e){t("addDropoffPosition",e)},async setPickupOptions({commit:t},e){t("addPickupOptions",e)},async setDropoffOptions({commit:t},e){t("addDropoffOptions",e)},async setSessionValidationStatus({commit:t},e){t("addSessionValidationStatus",e)},async resetStateToDefault({commit:t}){t("addCurrentLang",f.locale[f.lang]||f.locale.en)},async setSessionId({commit:t},e){t("addSessionId",e)},async setIsSessionValid({commit:t},e){t("addIsSessionValid",e)},async setGeolocationWatcher({commit:t},e){t("addGeolocationWatcher",e)},async setMqttBridge({commit:t},e){t("addMqttBridge",e)},async setStopFinder({commit:t},e){t("addStopFinder",e)}};var k=new a["a"].Store({state:f,getters:y,mutations:v,actions:A}),C=i("8c4f"),b=function(){var t=this,e=t._self._c;return t.isReady&&!t.endingSession?e("div",{staticClass:"my-container"},["en"===t.getLang?e("img",{staticClass:"languageButton",attrs:{src:i("b2b7")},on:{click:t.changeLang}}):t._e(),"est"===t.getLang?e("img",{staticClass:"languageButton",attrs:{src:i("98cb")},on:{click:t.changeLang}}):t._e(),e("button",{staticClass:"end-session-button",on:{click:t.endSession}},[e("p",[t._v(" "+t._s(t.$store.state.currentLang.endSession)+" ")])]),e("GmapMap",{style:{width:t.width+"%",height:t.height+"px"},attrs:{"map-type-id":t.mapType,center:t.center,zoom:t.zoom,options:t.mapOptions}},[e("GmapMarker",{attrs:{position:t.getUserLocation.position,icon:{url:i("2571")}}}),e("GmapMarker",{attrs:{position:t.getCarLocation,icon:{url:i("2cb1")}}})],1),e("router-link",{staticClass:"address-box",attrs:{to:"/destinationSearch",placeholder:t.$store.state.currentLang.whereTo,tag:"input"}})],1):e("div",{staticClass:"my-container"},[t.endingSession?e("p",{staticClass:"map-message"},[t._v(" "+t._s(t.$store.state.currentLang.endingMessage)+" ")]):e("p",{staticClass:"map-message"},[t._v(" "+t._s(t.$store.state.currentLang.loadingMap)+" ")]),e("div",{staticClass:"loader"})])},L=[],S={name:"Map",data(){return{center:{lat:58.379717565420194,lng:26.72276002855532},zoom:15,mapType:"roadmap",mapOptions:{zoomControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,preserveViewport:!0},markers:[],height:0,width:100,endingSession:!1}},computed:{...Object(a["c"])(["getMarkers","getUserLocation","getGeolocationWatcher","getCarLocation","getLang","getCurrentLang","getMqttBridge"]),isReady(){return this.getUserLocation&&this.getCarLocation}},methods:{...Object(a["b"])(["addMarker","setLang","setCurrentLang","setGeolocationWatcher","setIsSessionValid","setSessionID"]),changeLang:function(){"est"===this.getLang?(this.setLang("en"),this.setCurrentLang(this.$store.state.locale.en)):(this.setLang("est"),this.setCurrentLang(this.$store.state.locale.est))},endSession:function(){this.endingSession=!0,navigator.geolocation.clearWatch(this.getGeolocationWatcher),this.getMqttBridge.disconnect(),this.$store.dispatch("resetStateToDefault"),this.setGeolocationWatcher(void 0),this.setIsSessionValid(!1);const t=`${window.location.origin}${window.location.pathname}${window.location.hash}`;window.history.replaceState({},"",t),this.$router.push("/")}},watch:{isReady:function(t){t?(this.height=window.innerHeight-70,this.center=this.getUserLocation.position):this.height=window.innerHeight}},created:function(){this.height=window.innerHeight-70,this.getUserLocation&&(this.center=this.getUserLocation.position)}},w=S,P=(i("089a"),Object(u["a"])(w,b,L,!1,null,"6b4aaa3f",null)),O=P.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-container"},[e("div",{ref:"box",staticClass:"box"},[t.noStopsFound?e("div",{staticClass:"noStopsContainer"},[e("h3",{staticClass:"textClass"},[t.getOrigin.error&&t.getDestination.error?[t._v(" "+t._s(t.$store.state.currentLang.noStopsErrorBoth)+" ")]:t.getOrigin.error?[t._v(" "+t._s(t.$store.state.currentLang.noStopsErrorPickup)+" ")]:t.getDestination.error?[t._v(" "+t._s(t.$store.state.currentLang.noStopsErrorDropoff)+" ")]:t._e()],2),e("button",{staticClass:"button red",attrs:{tag:"button"},on:{click:t.backClicked}},[t._v(" "+t._s(t.$store.state.currentLang.back)+" ")])]):t.selectedPickup&&t.selectedDropoff?e("div",{staticClass:"dropdown-container"},[e("div",{staticClass:"dropdowns"},[e("h3",{staticClass:"textClass dropdownInfo"},[t._v(t._s(t.$store.state.currentLang.choosePickup))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPickup,expression:"selectedPickup"}],staticClass:"dropdown",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedPickup=e.target.multiple?i:i[0]}}},t._l(t.pickupOptions,(function(i,s){return e("option",{key:s,domProps:{value:i}},[t._v(" "+t._s(i.name)+" ")])})),0),e("h3",{staticClass:"textClass dropdownInfo"},[t._v(t._s(t.$store.state.currentLang.chooseDropoff))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDropoff,expression:"selectedDropoff"}],staticClass:"dropdown",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDropoff=e.target.multiple?i:i[0]}}},t._l(t.dropoffOptions,(function(i,s){return e("option",{key:s,domProps:{value:i}},[t._v(" "+t._s(i.name)+" ")])})),0)]),e("button",{staticClass:"button green",on:{click:t.orderCartoUser}},[t._v(t._s(t.$store.state.currentLang.orderCar))]),e("button",{staticClass:"button red",attrs:{tag:"button"},on:{click:t.cancelClicked}},[t._v(t._s(t.$store.state.currentLang.cancel))])]):t._e()]),e("GmapMap",{style:{width:t.width+"%",height:t.height+"px"},attrs:{"map-type-id":t.mapType,center:t.center,zoom:t.zoom,options:t.mapOptions}},[e("GmapMarker",{attrs:{position:t.getUserLocation.position,icon:{url:i("2571")}}}),e("GmapMarker",{attrs:{position:t.getCarLocation,icon:{url:i("2cb1")}}}),!t.noStopsFound&&t.selectedPickup&&t.selectedDropoff?e("div",[t._l(t.pickupOptions,(function(s,n){return e("GmapMarker",{key:"pickup-"+n,attrs:{position:s.position,icon:{url:i("1bf3"),scaledSize:{width:40,height:50},anchor:{x:20,y:25}},zIndex:1e3,opacity:s===t.selectedPickup?1:.5,clickable:s!==t.selectedPickup},on:{click:function(e){return t.onPickupMarkerClick(s)}}})})),t._l(t.dropoffOptions,(function(s,n){return e("GmapMarker",{key:"dropoff-"+n,attrs:{position:s.position,icon:{url:i("0251"),scaledSize:{width:40,height:50},anchor:{x:5,y:45}},zIndex:1e3,opacity:s===t.selectedDropoff?1:.5,clickable:s!==t.selectedDropoff},on:{click:function(e){return t.onDropoffMarkerClick(s)}}})}))],2):t._e(),!t.noStopsFound&&t.selectedPickup&&t.selectedDropoff?e("DirectionsRenderer",{attrs:{travelMode:"DRIVING",origin:t.selectedPickup.position,destination:t.selectedDropoff.position,suppressMarkers:!0}}):t._e()],1)],1)},D=[],B=i("755e"),T=Object(B["MapElementFactory"])({name:"directionsRenderer",ctr(){return window.google.maps.DirectionsRenderer},events:[],mappedProps:{},props:{origin:{type:[Object,Array]},destination:{type:[Object,Array]},waypoints:{type:Array,default:()=>[]},travelMode:{type:String},suppressMarkers:{type:Boolean},onDirectionsSet:{type:Function}},afterCreate(t){let e=new window.google.maps.DirectionsService;this.$watch(()=>[this.origin,this.destination,this.waypoints,this.travelMode,this.suppressMarkers],()=>{let{origin:i,destination:s,waypoints:n,travelMode:o,suppressMarkers:a}=this;i&&s&&o&&e.route({origin:i,destination:s,waypoints:n.map(t=>({location:t,stopover:!0})),travelMode:o},(e,i)=>{if("OK"!==i||!e||!e.routes||!e.routes[0])return;!0===a&&t.setOptions({suppressMarkers:!0,preserveViewport:!0}),t.setDirections(e);const s=e.routes[0].bounds,n=t.getMap();n&&n.fitBounds(s)})},{immediate:!0})}}),x={name:"Confirm",components:{DirectionsRenderer:T},data(){return{center:{lat:58.379717565420194,lng:26.72276002855532},currentPlace:null,zoom:13,mapType:"roadmap",mapOptions:{zoomControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,preserveViewport:!0},userLocation:null,height:0,width:100,pickupOptions:[],dropoffOptions:[],selectedPickup:null,selectedDropoff:null}},computed:{...Object(a["c"])(["getDestination","getOrigin","getCarLocation","getUserLocation","getIP","getWaypoints","getPickupOptions","getDropoffOptions","getMqttBridge"]),hasCustomWaypoints(){return this.getWaypoints&&this.getWaypoints.length>0},noStopsFound(){return this.getOrigin.error||this.getDestination.error}},methods:{...Object(a["b"])(["setDestination","setOrigin","setSentBacktoSelection","setDropoffPosition"]),backClicked(){this.setSentBacktoSelection(!0),this.$router.push("/destinationSearch")},cancelClicked(){this.setSentBacktoSelection(!0),this.$router.push("/destinationSearch")},onPickupMarkerClick(t){t!==this.selectedPickup&&(this.selectedPickup=t)},onDropoffMarkerClick(t){t!==this.selectedDropoff&&(this.selectedDropoff=t)},orderCartoUser(){let t={lat:this.selectedPickup.position.lat,lng:this.selectedPickup.position.lng,height:this.selectedPickup.position.height};this.getMqttBridge.publishGoal(t),this.setDropoffPosition(t),this.setOrigin(this.selectedPickup),this.setDestination(this.selectedDropoff),this.$router.push("/driveOrigin")}},created(){this.height=window.innerHeight,this.pickupOptions=this.getPickupOptions,this.dropoffOptions=this.getDropoffOptions,this.selectedPickup=this.pickupOptions[0]||null,this.selectedDropoff=this.dropoffOptions[0]||null},beforeDestroy(){clearInterval(this.intervalId)}},V=x,M=(i("bc23"),Object(u["a"])(V,I,D,!1,null,"2b48b7dc",null)),N=M.exports,R=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"v1_6"},[e("div",{staticClass:"v1_5"},[t._v(t._s(t.$store.state.currentLang.enterOrigAndDest))]),e("div",{staticClass:"v1_4"},[e("b-icon",{attrs:{icon:"x-circle","font-scale":"3"},on:{click:t.goBack}})],1)]),e("div",{staticClass:"my-container"},[e("GmapAutocomplete",{staticClass:"address-box",attrs:{id:"originBox",placeholder:t.$store.state.currentLang.enterOrig,options:t.autoCompleteOptions},on:{focus:t.showButton,place_changed:t.setOriginPlace}}),e("GmapAutocomplete",{staticClass:"address-box",attrs:{id:"destinationBox",placeholder:t.$store.state.currentLang.enterDest,options:t.autoCompleteOptions},on:{focus:t.hideButton,place_changed:t.setDestinationPlace}}),t.showLocationButton?e("div",{staticClass:"pac-item",on:{click:t.useMyLocation}},[e("span",{staticClass:"pac-icon pac-icon-marker"}),e("span",{staticClass:"pac-item-query"},[t._v(t._s(t.$store.state.currentLang.myLocation))])]):t._e()],1)])},E=[],q={name:"DestinationSearch",data(){return{center:{lat:58.379717565420194,lng:26.72276002855532},currentPlace:null,zoom:12,mapType:"roadmap",mapOptions:{zoomControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,preserveViewport:!0},userLocation:null,showLocationButton:!1,autoCompleteOptions:{componentRestrictions:{country:["ee"]}},pacobserver:null,stopFinder:null}},computed:{...Object(a["c"])(["getMarkers","getUserLocation","getCarLocation","getIP","getOrigin","getDestination","getSentBacktoSelection","getStopFinder"])},methods:{...Object(a["b"])(["setDestination","setOrigin","setSentBacktoSelection","setPickupOptions","setDropoffOptions"]),showButton:function(){this.showLocationButton=!0},hideButton:function(){this.showLocationButton=!1},goBack:function(){this.$router.push("/map")},useMyLocation:function(){const t=this.stopFinder.findClosestStops([this.getUserLocation.position.lat,this.getUserLocation.position.lng]);t&&t.length>0?(this.setOrigin({name:t[0].name,searchedName:this.$store.state.currentLang.myLocation,position:t[0].position}),this.setPickupOptions(t)):(this.setOrigin({position:"not_found",searchedName:this.$store.state.currentLang.myLocation,error:!0}),this.setPickupOptions([])),document.getElementById("originBox").value=this.$store.state.currentLang.myLocation,this.showLocationButton=!1},setOriginPlace(t){const e=document.getElementById("originBox");if(e.style.border="#eee",this.markers=[],this.currentPlace=t,!this.currentPlace||!this.currentPlace.geometry||!this.currentPlace.geometry.location)return;const i={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:i}),this.currentPlace=null;const s=this.stopFinder.findClosestStops([i.lat,i.lng]);s&&s.length>0?(this.setOrigin({name:s[0].name,searchedName:e.value,position:s[0].position}),this.setPickupOptions(s)):(this.setOrigin({position:"not_found",searchedName:e.value,error:!0}),this.setPickupOptions([]))},setDestinationPlace(t){const e=document.getElementById("destinationBox");if(e.style.border="#eee",this.markers=[],this.currentPlace=t,!this.currentPlace||!this.currentPlace.geometry||!this.currentPlace.geometry.location)return;const i={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:i}),this.currentPlace=null;const s=this.stopFinder.findClosestStops([i.lat,i.lng]);s&&s.length>0?(this.setDestination({name:s[0].name,searchedName:e.value,position:s[0].position}),this.setDropoffOptions(s)):(this.setDestination({position:"not_found",searchedName:e.value,error:!0}),this.setDropoffOptions([]))}},created:function(){this.getSentBacktoSelection||(this.setDestination(null),this.setOrigin(null))},mounted(){let t=!1;this.stopFinder=this.getStopFinder;const e=()=>{const e=document.getElementsByClassName("pac-container");for(let t=0;t<e.length;t++){const i=e[t],s="none"!==i.style.display;s&&(this.showLocationButton&&"280px"!==i.style.getPropertyValue("top")?i.style.setProperty("top","280px","important"):this.showLocationButton||"230px"===i.style.getPropertyValue("top")||i.style.setProperty("top","230px","important"))}t=!1},i=new MutationObserver(()=>{t||(t=!0,requestAnimationFrame(e))});if(i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}),this.pacObserver=i,this.getSentBacktoSelection){const t=document.getElementById("originBox");t.value=this.getOrigin.searchedName,this.getOrigin.error?(t.style.border="2px solid red",this.setOrigin(null)):t.style.border="#eee";const e=document.getElementById("destinationBox");e.value=this.getDestination.searchedName,this.getDestination.error?(e.style.border="2px solid red",this.setDestination(null)):e.style.border="#eee",this.setSentBacktoSelection(!1)}},watch:{"$store.state.destination.position":function(){null===this.getDestination||null===this.getOrigin||this.getSentBacktoSelection||this.$router.push("/confirm")},"$store.state.origin.position":function(){null===this.getDestination||null===this.getOrigin||this.getSentBacktoSelection||this.$router.push("/confirm")}},beforeDestroy(){this.pacobserver&&(this.pacobserver.disconnect(),this.pacObserver=null)}},G=q,W=(i("9a87"),i("c8de"),Object(u["a"])(G,R,E,!1,null,"875a6106",null)),F=W.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-container"},[t.carHasArrived?e("div",{staticClass:"box"},[e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.arriveDropoff))]),e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.areYouOut))]),e("button",{staticClass:"button green",on:{click:t.endDrive}},[t._v(t._s(t.$store.state.currentLang.yes))])]):e("div",{staticClass:"box",staticStyle:{height:"60px"}},[e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.speed)+t._s(t.velocity)+" km/h")])]),e("GmapMap",{ref:"mapRef",style:{width:t.width+"%",height:t.height+"px"},attrs:{"map-type-id":t.mapType,center:t.center,zoom:t.zoom,options:t.mapOptions}},[e("GmapMarker",{attrs:{position:t.getCarLocation,icon:{url:i("2cb1")}}}),e("GmapMarker",{attrs:{position:t.getDestination.position}}),!t.carHasArrived&&t.hasCustomWaypoints?e("GmapPolyline",{attrs:{path:t.completedPath,options:{strokeColor:"#0000FF",strokeOpacity:1,strokeWeight:4}}}):t._e(),!t.carHasArrived&&t.hasCustomWaypoints?e("GmapPolyline",{attrs:{path:t.remainingPath,options:{strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:4}}}):!t.carHasArrived&&t.getCarLocation&&t.getDestination.position?e("DirectionsRenderer",{attrs:{travelMode:"DRIVING",origin:t.getCarLocation,destination:t.getDestination.position,suppressMarkers:!0}}):t._e()],1)],1)},K=[],U=(i("7d54"),{name:"DriveDestination",components:{DirectionsRenderer:T},data(){return{center:{lat:58.379717565420194,lng:26.72276002855532},currentPlace:null,zoom:15,mapType:"roadmap",mapOptions:{zoomControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,preserveViewport:!0},userLocation:null,height:0,width:100,pollingDist:null,pollingVel:null,wpPolling:null,eventPolling:null,velocity:0,carHasArrived:!1,mapObject:null,pathHolder:null,mqttBridge:null}},computed:{...Object(a["c"])(["getDestination","getOrigin","getCarLocation","getUserLocation","getIP","getWaypoints","getMqttBridge"]),hasCustomWaypoints(){return this.getWaypoints&&this.getWaypoints.length>0},polylinePath(){return this.hasCustomWaypoints?this.getWaypoints.map(t=>({lat:Number(t[0]),lng:Number(t[1])})):[]},completedPath(){return this.getCompletedPath()},remainingPath(){return this.getRemainingPath()}},watch:{polylinePath:{immediate:!0,handler(t){if(t.length>0&&this.pathHolder!==t){const e=JSON.stringify(t);if(this.pathString!==e){this.pathString=e;const i=new google.maps.LatLngBounds;t.forEach(t=>{i.extend(new google.maps.LatLng(t.lat,t.lng))}),this.$nextTick(()=>{this.$refs.mapRef&&this.$refs.mapRef.$mapObject&&this.$refs.mapRef.$mapObject.fitBounds(i)})}}}}},methods:{...Object(a["b"])(["fetchWaypoints","nullWaypoints"]),pollEventState(){this.eventPolling=setInterval(()=>{let t=this.getWaypoints;this.carHasArrived=t&&0===t.length,this.carHasArrived&&(this.center=this.getCarLocation,this.zoom=20)},1e3)},carVelocity(){this.pollingVel=setInterval(()=>{this.velocity=this.mqttBridge.getSpeed()},1e3)},endDrive(){this.$store.dispatch("setDestination",null),this.$store.dispatch("setOrigin",null),this.$router.push("/rating")},getCompletedPath(){if(!this.getCarLocation||!this.polylinePath.length)return[];let t=this.findClosestPointIndex();return this.polylinePath.slice(0,t+1)},getRemainingPath(){if(!this.getCarLocation||!this.polylinePath.length)return[];let t=this.findClosestPointIndex();return this.polylinePath.slice(t)},findClosestPointIndex(){let t=this.getCarLocation,e=1/0,i=0;return this.polylinePath.forEach((s,n)=>{let o=Math.hypot(t.lat-s.lat,t.lng-s.lng);o<e&&(e=o,i=n)}),i}},created(){this.nullWaypoints(),this.mqttBridge=this.getMqttBridge,this.height=window.innerHeight-65,this.pollEventState(),this.carVelocity(),this.fetchWaypoints(),this.wpPolling=setInterval(()=>{this.fetchWaypoints()},1e3)},beforeDestroy(){this.pollingDist&&(clearInterval(this.pollingDist),this.pollingDist=null),this.pollingVel&&(clearInterval(this.pollingVel),this.pollingVel=null),this.wpPolling&&(clearInterval(this.wpPolling),this.wpPolling=null),this.eventPolling&&(clearInterval(this.eventPolling),this.eventPolling=null)}}),Q=U,Y=(i("7060"),Object(u["a"])(Q,j,K,!1,null,"08dfe20e",null)),z=Y.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-container"},[t.carHasArrived?e("div",{staticClass:"box"},[e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.arrivePickup))]),e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.areYouIn))]),e("button",{staticClass:"button green",on:{click:t.driveToDestination}},[t._v(t._s(t.$store.state.currentLang.inCar))])]):e("div",{staticClass:"box",staticStyle:{height:"60px"}},[e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.driveToPickup))])]),e("GmapMap",{ref:"mapRef",style:{width:t.width+"%",height:t.height+"px"},attrs:{"map-type-id":t.mapType,center:t.center,zoom:t.zoom,options:t.mapOptions}},[e("GmapMarker",{attrs:{position:t.getUserLocation.position,icon:{url:i("2571")}}}),e("GmapMarker",{attrs:{position:t.getCarLocation,icon:{url:i("2cb1")}}}),e("GmapMarker",{attrs:{position:t.getOrigin.position}}),!t.carHasArrived&&t.hasCustomWaypoints?e("GmapPolyline",{attrs:{path:t.completedPath,options:{strokeColor:"#0000FF",strokeOpacity:1,strokeWeight:4}}}):t._e(),!t.carHasArrived&&t.hasCustomWaypoints?e("GmapPolyline",{attrs:{path:t.remainingPath,options:{strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:4}}}):!t.carHasArrived&&t.getCarLocation&&t.getOrigin.position?e("DirectionsRenderer",{attrs:{travelMode:"DRIVING",origin:t.getCarLocation,destination:t.getOrigin.position,suppressMarkers:!0}}):t._e()],1)],1)},H=[],X={name:"DriveOrigin",components:{DirectionsRenderer:T},data(){return{center:{lat:58.379717565420194,lng:26.72276002855532},zoom:15,mapType:"roadmap",mapOptions:{zoomControl:!1,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,preserveViewport:!0},height:0,width:100,polling:null,wpPolling:null,carHasArrived:!1,pathString:null,mqttBridge:null,waitingForWaypoints:!0}},computed:{...Object(a["c"])(["getDestination","getOrigin","getCarLocation","getUserLocation","getIP","getWaypoints","getDropoffPosition","getMqttBridge"]),hasCustomWaypoints(){return this.getWaypoints&&this.getWaypoints.length>0},polylinePath(){return this.hasCustomWaypoints?this.getWaypoints.map(t=>({lat:Number(t[0]),lng:Number(t[1])})):[]},completedPath(){return this.getCompletedPath()},remainingPath(){return this.getRemainingPath()}},watch:{polylinePath:{immediate:!0,handler(t){if(t.length>0){const e=JSON.stringify(t);if(this.pathString!==e){this.pathString=e;const i=new google.maps.LatLngBounds;t.forEach(t=>{i.extend(new google.maps.LatLng(t.lat,t.lng))}),this.$nextTick(()=>{this.$refs.mapRef&&this.$refs.mapRef.$mapObject&&this.$refs.mapRef.$mapObject.fitBounds(i)})}}}}},methods:{...Object(a["b"])(["fetchWaypoints","setDropoffPosition","nullWaypoints"]),driveToDestination(){this.nullWaypoints(),this.mqttBridge.publishGoal(this.getDestination.position),this.setDropoffPosition(this.getDestination.position),this.$router.push("/driveDestination")},pollEventState(){this.polling=setInterval(()=>{let t=this.getWaypoints;this.carHasArrived=t&&0===t.length,this.carHasArrived&&(this.center=this.getCarLocation,this.zoom=20)},1e3)},getCompletedPath(){if(!this.getCarLocation||!this.polylinePath.length)return[];let t=this.findClosestPointIndex();return this.polylinePath.slice(0,t+1)},getRemainingPath(){if(!this.getCarLocation||!this.polylinePath.length)return[];let t=this.findClosestPointIndex();return this.polylinePath.slice(t)},findClosestPointIndex(){let t=this.getCarLocation,e=1/0,i=0;return this.polylinePath.forEach((s,n)=>{let o=Math.hypot(t.lat-s.lat,t.lng-s.lng);o<e&&(e=o,i=n)}),i}},created(){this.nullWaypoints(),this.mqttBridge=this.getMqttBridge,this.height=window.innerHeight-65,this.pollEventState(),this.fetchWaypoints(),this.wpPolling=setInterval(()=>{this.fetchWaypoints()},1e3)},beforeDestroy(){this.polling&&(clearInterval(this.polling),this.polling=null),this.wpPolling&&(clearInterval(this.wpPolling),this.wpPolling=null)}},Z=X,_=(i("7e6e"),Object(u["a"])(Z,J,H,!1,null,"91eff238",null)),$=_.exports,tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-container"},[e("div",{staticClass:"box"},[e("h3",{staticClass:"textClass"},[t._v(t._s(t.$store.state.currentLang.rating))]),e("star-rating",{attrs:{"inactive-color":"white","show-rating":!1},on:{"rating-selected":t.setRating},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)])},et=[],it=i("5b3d"),st=i.n(it),nt={components:{StarRating:st.a},data(){return{rating:null}},computed:{...Object(a["c"])(["getIP","getMqttBridge"])},methods:{setRating(){const t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),i=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),s=e+" "+i;this.getMqttBridge.publishRating({datetime:s,rating:this.rating}),this.$router.push("/map")}}},ot=nt,at=(i("5e08"),Object(u["a"])(ot,tt,et,!1,null,"56fa1a10",null)),rt=at.exports,lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},["en"===t.getLang?e("img",{staticClass:"languageButton",attrs:{src:i("b2b7")},on:{click:t.changeLang}}):t._e(),"est"===t.getLang?e("img",{staticClass:"languageButton",attrs:{src:i("98cb")},on:{click:t.changeLang}}):t._e(),e("h1",[t._v(t._s(t.$store.state.currentLang.enterSessionId))]),e("div",{staticClass:"code-input-container"},t._l(t.sessionIdArray,(function(i,s){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.sessionIdArray[s],expression:"sessionIdArray[index]"}],key:s,ref:"codeInput",refInFor:!0,staticClass:"code-input",attrs:{type:"text",inputmode:"numeric",pattern:"[0-9]*",disabled:t.validationStatus},domProps:{value:t.sessionIdArray[s]},on:{input:[function(e){e.target.composing||t.$set(t.sessionIdArray,s,e.target.value)},function(e){return t.onInput(i,s,e)}],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:t.onBackspace(s,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"arrow-left",void 0,e.key,void 0)?null:t.onArrowLeft(s)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"arrow-right",void 0,e.key,void 0)?null:t.onArrowRight(s)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validateSession.apply(null,arguments)}],paste:function(e){return t.onPaste(s,e)}}})})),0),e("button",{staticClass:"validate-button",attrs:{disabled:t.validationStatus},on:{click:t.validateSession}},[t._v(" "+t._s(t.$store.state.currentLang.validate)+" ")]),e("div",{staticClass:"info-message-container"},[t.validationStatus?e("p",{staticClass:"status"},[t._v(t._s(t.validationStatus))]):t._e(),t.errorMessage?e("p",{staticClass:"error"},[t._v(t._s(t.errorMessage))]):t._e(),t.validationStatus?e("div",{staticClass:"loader"}):t._e()])])},ct=[],pt=(i("88a7"),i("271a"),i("5494"),i("ca6f"));class ht{constructor(t,e=!1){this.sessionId=t,this.isDev=e,this.client=null,this.pose=null,this.speed=0,this.waypoints=null,this.isSessionValid=!1,this.topics={published:{GOAL:`session/${t}/goal`,RATING:`session/${t}/rating`},received:{STATUS:`session/${t}/status`,ROUTE:`session/${t}/route`}}}connect(t="mqtt.cloud.ut.ee",e=8084,i=!0){const s=i?"wss":"ws",n={rejectUnauthorized:!0,clientId:this.sessionId};this.client=pt["a"].connect(`${s}://${t}:${e}`,n),this.client.on("connect",t=>{0===t.returnCode?(this.isDev&&console.log("Connected to MQTT host with session ID: "+this.sessionId),this.client.subscribe(this.topics.received.STATUS),this.client.subscribe(this.topics.received.ROUTE,{qos:1})):console.error("Failed to connect to MQTT host. Reason: "+pt["a"].CONNACK.returnCode[t.returnCode])}),this.client.on("message",(t,e)=>{const i=JSON.parse(e.toString());t===this.topics.received.STATUS?(this.pose=i.pose,this.speed=i.speed,this.isSessionValid=!0):t===this.topics.received.ROUTE&&(this.waypoints=i.waypoints)})}validateSession(t=3e3){return new Promise(e=>{this.isSessionValid=!1;const i=Date.now(),s=setInterval(()=>{this.isSessionValid?(clearInterval(s),e(!0)):Date.now()-i>t&&(clearInterval(s),this.disconnect(),e(!1))},100)})}disconnect(){this.client.end(),this.isDev&&console.log("Disconnected from MQTT host:",this.sessionId)}publishGoal(t){this.client.publish(this.topics.published.GOAL,JSON.stringify(t),{qos:1})}publishRating(t){this.client.publish(this.topics.published.RATING,JSON.stringify(t),{qos:1})}getPose(){return this.pose}getSpeed(){return this.speed}getWaypoints(){return this.waypoints}nullWaypoints(){this.waypoints=null}}var ut={data(){return{sessionIdArray:["","","","","",""],errorMessage:"",currentError:null}},computed:{...Object(a["c"])(["getLang","getCurrentLang"]),validationStatus(){return this.$store.state.sessionValidationStatus},sessionId(){return this.sessionIdArray.join("")}},methods:{...Object(a["b"])(["setLang","setCurrentLang","setMqttBridge"]),changeLang:function(){if("est"===this.getLang?(this.setLang("en"),this.setCurrentLang(this.$store.state.locale.en)):(this.setLang("est"),this.setCurrentLang(this.$store.state.locale.est)),this.currentError)switch(this.currentError){case"incorrectFormatError":this.errorMessage=this.$store.state.currentLang.incorrectFormatError;break;case"sessionNotFoundError":this.errorMessage=this.$store.state.currentLang.sessionNotFoundError;break;default:this.errorMessage=this.$store.state.currentLang.sessionNotFoundError}this.validationStatus&&this.$store.dispatch("setSessionValidationStatus",this.$store.state.currentLang.attemptingToConnect)},onInput(t,e,i){let s=i.target.value.replace(/\D/g,"");s.length>1&&(s=s.replace(t,"")),s.length>0?(this.$set(this.sessionIdArray,e,s[0]),e<this.sessionIdArray.length-1&&this.$refs.codeInput[e+1].focus()):this.$set(this.sessionIdArray,e,""),i.target.value=this.sessionIdArray[e]},onBackspace(t,e){e.preventDefault(),t>0?(this.$set(this.sessionIdArray,t,""),this.$refs.codeInput[t-1].focus()):this.$set(this.sessionIdArray,t,"")},onArrowLeft(t){t>0&&this.$refs.codeInput[t-1].focus()},onArrowRight(t){t<this.sessionIdArray.length-1&&this.$refs.codeInput[t+1].focus()},onPaste(t,e){e.preventDefault();const i=(e.clipboardData||window.clipboardData).getData("text");if(!/^\d+$/.test(i))return;let s=t;for(let n of i){if(s>=this.sessionIdArray.length)break;this.$set(this.sessionIdArray,s,n),s++}s<this.sessionIdArray.length?this.$refs.codeInput[s].focus():this.$refs.codeInput[this.sessionIdArray.length-1].focus()},async validateSession(){if(!this.sessionId||6!==this.sessionId.length||isNaN(this.sessionId))return this.errorMessage=this.$store.state.currentLang.incorrectFormatError,void(this.currentError="incorrectFormatError");this.$store.dispatch("setSessionValidationStatus",this.$store.state.currentLang.attemptingToConnect),this.errorMessage="",this.currentError=null;const t=new ht(this.sessionId);t.connect();const e=await t.validateSession();if(e){this.setMqttBridge(t),await this.$store.dispatch("setIsSessionValid",!0),await this.$store.dispatch("setSessionValidationStatus",null),await this.$store.dispatch("setSessionId",this.sessionId);const e=new URLSearchParams(window.location.search);e.set("session_id",this.sessionId);const i=`${window.location.origin}${window.location.pathname}?${e.toString()}${window.location.hash}`;window.history.replaceState({},"",i),this.$router.push("/map")}else this.errorMessage=this.$store.state.currentLang.sessionNotFoundError,this.currentError="sessionNotFoundError",this.$store.dispatch("setSessionValidationStatus",null)}},mounted(){const t=new URLSearchParams(window.location.search),e=t.get("session_id");e&&6===e.length&&!isNaN(e)?(this.sessionIdArray=e.split(""),this.validateSession()):this.$refs.codeInput[0].focus()}},dt=ut,gt=(i("c6b8"),Object(u["a"])(dt,lt,ct,!1,null,"69e210dd",null)),mt=gt.exports;s["a"].use(C["a"]);var ft=new C["a"]({mode:"history",routes:[{path:"/",name:"SessionLogin",component:mt,meta:{notRequiresAuth:!0}},{path:"/map",name:"Map",component:O},{path:"/destinationSearch",name:"DestinationSearch",component:F},{path:"/confirm",name:"Confirm",component:N},{path:"/driveOrigin",name:"DriveOrigin",component:$},{path:"/driveDestination",name:"DriveDestination",component:z},{path:"/rating",name:"Rating",component:rt}]}),yt=i("b1e0");s["a"].config.productionTip=!1,s["a"].use(yt["a"]),s["a"].use(B,{load:{key:"AIzaSyAixRzVqb7kii3XrzzL3OxsN7k_2CoMeaM",libraries:"places, directions, geolocation, geometry"}}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&k.state.sessionId&&(k.state.mqttBridge.disconnect(),k.dispatch("resetStateToDefault"))}),ft.beforeEach((t,e,i)=>{if(t.matched.some(t=>!t.meta.notRequiresAuth))if(k.state.isSessionValid){const e=k.state.sessionId;t.query.sessionId!==e?i({...t,query:{...t.query,sessionId:e}}):i()}else i({path:"/"});else"sessionId"in t.query?i({...t,query:Object.fromEntries(Object.entries(t.query).filter(([t])=>"sessionId"!==t))}):i()});const vt=ft.push;ft.push=function(t,e,i){return e||i?vt.call(this,t,e,i):vt.call(this,t).catch(t=>{if(!/redirected/i.test(t.message))throw t})};const At=ft.replace;ft.replace=function(t,e,i){return e||i?At.call(this,t,e,i):At.call(this,t).catch(t=>{if(!/redirected/i.test(t.message))throw t})},new s["a"]({store:k,router:ft,render:t=>t(g)}).$mount("#app")},"5e08":function(t,e,i){"use strict";i("7475")},6932:function(t,e,i){},7060:function(t,e,i){"use strict";i("b4e8")},7475:function(t,e,i){},"7af8":function(t,e,i){},"7e6e":function(t,e,i){"use strict";i("4a94")},"865e":function(t,e,i){"use strict";i("2284")},"98cb":function(t,e,i){t.exports=i.p+"img/united-kingdom.6f382b2d.png"},"9a87":function(t,e,i){"use strict";i("bbce")},b2b7:function(t,e,i){t.exports=i.p+"img/estonia.9c32da2c.png"},b4e8:function(t,e,i){},bbce:function(t,e,i){},bc23:function(t,e,i){"use strict";i("6932")},c6b8:function(t,e,i){"use strict";i("7af8")},c8de:function(t,e,i){"use strict";i("d2ad")},d2ad:function(t,e,i){},f958:function(t,e,i){}});
//# sourceMappingURL=app.3ad72a91.js.map